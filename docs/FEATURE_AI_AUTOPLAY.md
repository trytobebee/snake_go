# 🤖 AI 自动驾驶与进化模式 (Auto-Play & Neural Evolution)

这是 Snake Go 的核心进化功能。AI 不再仅仅依赖固定的启发式规则，而是通过深度强化学习（Reinforcement Learning）获得“直觉”，并辅以物理层安全校验。

## ✨ 核心特性

### 1. 深度学习引擎 (Auto-Play Neural Network)
AI 的自动驾驶决策由一个 **3层卷积神经网络 (CNN)** 驱动。
- **Auto-Play 专属**：目前深度学习引擎专门用于玩家的 **Auto-Play (自动驾驶)** 模式。
- **全局视野**：通过 6 通道特征图感知全场状态，包括玩家、食物、火球和障碍物。
- **战略意图**：神经网络在每一步都会评估 [上下左右] 四个动作的未来价值（Q-Values）。

### 2. 启发式竞争引擎 (Competitor Heuristic AI)
在 **Battle Mode** 中的敌对 AI 采用的是基于规则的高级启发式引擎：
- **高效寻路**：结合 Flood Fill（空间探测）与 Greedy Utility（价值最大化）逻辑。
- **战术博弈**：能够判别距离、预测食物过期时间，并自动触发 **Boost** 抢夺资源。

### 2. 双重安全检查 (Hybrid Safety Gate)
为了弥补神经网络可能存在的“幻觉”，我们实现了一套物理层拦截器：
- **物理校验**：如果神经网络建议的方向会导致立刻撞墙或撞向身体，Go 服务端会立即拦截该指令。
- **启发式救场**：在神经网络决策被拦截时，系统会自动调取经典的 **Flood Fill (洪泛算法)**，在安全的候选项中选择最优路径，确保 AI 绝不“无端自杀”。

### 3. 战斗与生存本能
- **进攻性火球**：AI 具备精准的开火逻辑，能够判别前方是否有玩家或障碍物，并果断发射火球。
- **动态加速**：AI 会实时计算目标食物的距离，在必要时开启 **Boost (加速)** 以抢夺高值资源。

## 🎮 如何开启

1. 在 Web 界面点击 **"🤖 Auto-Play"** 按钮。
2. 键盘快捷键：按下 **`A`** 键即可随时开启或关闭。
3. 手机端：点击难度面板右侧的机器人图标。

## 🛠️ 技术底座

- **推理引擎**：基于 **ONNX Runtime**，推理延迟延迟低于 **1.5ms**。
- **控制逻辑**：实现在 `pkg/game/ai.go` 与 `pkg/game/ai_model.go`。
- **训练数据**：通过 `GameRecorder` 收集海量真实对战数据进行离线强化学习训练。

---

> 现在你可以坐下来，观察 AI 如何在神经网络的引导下展现出类人的博弈策略！🧠🐍🔥
